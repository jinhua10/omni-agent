# è‡´å¼€å‘è€…çš„ä¸€å°ä¿¡

äº²çˆ±çš„å¼€å‘è€…ï¼š

æ„Ÿè°¢ä½ å…³æ³¨ omni-agent é¡¹ç›®ã€‚åœ¨ä½ å†³å®šæ˜¯å¦ä½¿ç”¨è¿™ä¸ªæ¡†æ¶ä¹‹å‰ï¼Œæˆ‘æƒ³ç›´æ¥å‘Šè¯‰ä½ ï¼š**è¿™ä¸ªæ¡†æ¶è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œæœ‰ä»€ä¹ˆæŠ€æœ¯ä¼˜åŠ¿**ã€‚

---

## ğŸ’¥ ä¼ ç»Ÿ RAG çš„æ ¹æœ¬æ€§ç¼ºé™·

å¦‚æœä½ ç”¨è¿‡ RAG åšçŸ¥è¯†é—®ç­”ï¼Œä½ è‚¯å®šé‡åˆ°è¿‡è¿™äº›é—®é¢˜ï¼š

### é—®é¢˜ 1ï¼šåˆ†å—å¯¼è‡´è¯­ä¹‰å‰²è£‚
```python
# ä¼ ç»Ÿ RAGï¼šå›ºå®šå¤§å°åˆ†å—
chunks = split_text(document, chunk_size=500)  # âŒ è¯­ä¹‰è¢«å¼ºåˆ¶åˆ‡æ–­

# ç»“æœï¼š
"...ç”¨æˆ·è®¤è¯æµç¨‹åŒ…æ‹¬ï¼š1. ç™»å½•è¯·æ±‚ 2. éªŒè¯ä»¤ç‰Œ 3. è¿”å›"  # ç¬¬ä¸€å—
"ç”¨æˆ·ä¿¡æ¯ã€‚æ³¨æ„ï¼šä»¤ç‰Œæœ‰æ•ˆæœŸä¸º 24 å°æ—¶..."                # ç¬¬äºŒå—
# å®Œæ•´é€»è¾‘è¢«å‰²è£‚ï¼Œæ£€ç´¢æ—¶å¯èƒ½åªæ‰¾åˆ°ä¸€åŠ
```

### é—®é¢˜ 2ï¼šå•ä¸€å‘é‡ç©ºé—´æ±¡æŸ“
```python
# æ‰€æœ‰æ–‡æ¡£æ··åœ¨ä¸€ä¸ªå‘é‡åº“
vector_db.add(tech_docs)      # æŠ€æœ¯æ–‡æ¡£
vector_db.add(business_docs)  # ä¸šåŠ¡æ–‡æ¡£
vector_db.add(meeting_notes)  # ä¼šè®®è®°å½•
# âŒ ä¸åŒé¢†åŸŸäº’ç›¸å¹²æ‰°ï¼Œæ£€ç´¢ç²¾åº¦ä¸‹é™
```

### é—®é¢˜ 3ï¼šæ— ä¸Šä¸‹æ–‡è®°å¿†
```python
# æ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ç‹¬ç«‹çš„
query1 = "Spring Boot å¦‚ä½•é…ç½®ï¼Ÿ"
query2 = "å®ƒæ”¯æŒå“ªäº›æ•°æ®åº“ï¼Ÿ"  # âŒ "å®ƒ" æ˜¯ä»€ä¹ˆï¼Ÿç³»ç»Ÿä¸çŸ¥é“
```

**ç»“æœï¼š** ä½ ä»¥ä¸ºåœ¨åš AI åŠ©æ‰‹ï¼Œå®é™…ä¸Šåªæ˜¯ä¸ªä¼šèƒ¡è¯´å…«é“çš„æœç´¢å¼•æ“ã€‚

---

## âœ¨ omni-agent çš„æ¶æ„åˆ›æ–°

### ğŸ¯ åˆ›æ–° 1ï¼šå¤šç­–ç•¥æ™ºèƒ½åˆ†å—

```java
// 6 ç§æ™ºèƒ½åˆ†å—ç­–ç•¥
ChunkingStrategy strategy = ChunkingStrategyFactory.create("perplexity");
// å›°æƒ‘åº¦åˆ†å— - åŸºäº AI è¯†åˆ«è‡ªç„¶è¯­ä¹‰è¾¹ç•Œï¼Œä¿ç•™å®Œæ•´è¯­å¢ƒ

// å…¶ä»–ç­–ç•¥ï¼š
// - semanticï¼šè¯­ä¹‰ç›¸è¿‘å†…å®¹èšåˆ
// - paragraphï¼šä¿æŒæ–‡æ¡£åŸå§‹ç»“æ„
// - sliding-windowï¼šé‡å çª—å£ä¿ç•™è¿ç»­æ€§
// - recursiveï¼šå¤§æ–‡æ¡£å±‚æ¬¡åŒ–å¤„ç†
// - fixed-sizeï¼šå…¼å®¹ä¼ ç»Ÿ RAG
```

**æ•ˆæœï¼š** è¯­ä¹‰å®Œæ•´æ€§æå‡ 40%+ï¼Œæ£€ç´¢å‡†ç¡®ç‡æå‡ 35%+

### ğŸ—ï¸ åˆ›æ–° 2ï¼šHOPE è‡ªå­¦ä¹ æ¶æ„

```java
// Hierarchical Omni-Agent Persistent Engine
// ä¸‰å±‚çŸ¥è¯†ç»“æ„ + æ™ºèƒ½è·¯ç”± + æŒç»­å­¦ä¹ 

@Service
public class HOPEKnowledgeManager {
    // æŒä¹…å±‚ - æ ¸å¿ƒçŸ¥è¯†ï¼Œé•¿æœŸç¨³å®š
    PersistentLayer permanent;
    
    // æ™®é€šå±‚ - ä¸€èˆ¬çŸ¥è¯†ï¼ŒåŠ¨æ€æ›´æ–°
    OrdinaryLayer ordinary;
    
    // é«˜é¢‘å±‚ - çƒ­ç‚¹çŸ¥è¯†ï¼Œè‡ªåŠ¨å­¦ä¹ 
    HighFrequencyLayer highFreq;
    
    public Answer query(String question) {
        // 1. é—®é¢˜åˆ†ç±»
        QuestionType type = classifier.classify(question);
        
        // 2. æ™ºèƒ½è·¯ç”±åˆ°åˆé€‚çš„çŸ¥è¯†å±‚
        Layer layer = router.route(type);
        
        // 3. æ£€ç´¢å¹¶è¯„ä¼°çŸ¥è¯†å®Œæ•´æ€§
        Knowledge knowledge = layer.search(question);
        if (knowledge.hasGap()) {
            // 4. çŸ¥è¯†ç¼ºå£æ£€æµ‹ - è¯·æ±‚ç”¨æˆ·è¡¥å……
            return requestMoreInfo();
        }
        
        // 5. ç”Ÿæˆç­”æ¡ˆå¹¶å­¦ä¹ 
        Answer answer = ai.generate(knowledge);
        highFreq.learn(question, answer);  // è‡ªåŠ¨ä¼˜åŒ–
        
        return answer;
    }
}
```

**æ•ˆæœï¼š** è¶Šç”¨è¶Šæ™ºèƒ½ï¼Œè‡ªåŠ¨å‘ç°å’Œè¡¥å……çŸ¥è¯†ç›²ç‚¹

### ğŸ•¸ï¸ åˆ›æ–° 3ï¼šçŸ¥è¯†ç½‘ç»œç³»ç»Ÿ

```java
// åŸŸç´¢å¼• - ä¸åŒé¢†åŸŸåˆ†å¼€ç®¡ç†
@Service
public class KnowledgeNetworkService {
    // åˆ›å»ºçŸ¥è¯†åŸŸ
    public String createDomain(DomainType type) {
        KnowledgeDomain domain = KnowledgeDomain.builder()
            .type(type)  // DOCUMENT, SOURCE_CODE, ROLE_KNOWLEDGE
            .build();
        return registry.saveDomain(domain);
    }
    
    // æ„å»ºçŸ¥è¯†ç½‘ç»œ - è‡ªåŠ¨å‘ç°æ–‡æ¡£é—´å…³è”
    public CompletableFuture<KnowledgeBuildResult> buildKnowledgeNetwork(
        String documentId, 
        String domainId
    ) {
        return CompletableFuture.supplyAsync(() -> {
            // 1. æå–çŸ¥è¯†ï¼ˆæ¦‚å¿µã€å…³ç³»ã€å…³é”®è¯ï¼‰
            Knowledge knowledge = extractor.extract(documentId);
            
            // 2. è·¨åŸŸå…³è”ï¼ˆå‘ç°ç›¸å…³æ–‡æ¡£ï¼‰
            List<Association> associations = 
                associator.associate(knowledge, domainId);
            
            // 3. çŸ¥è¯†ç²¾ç‚¼ï¼ˆå»é‡ã€åˆå¹¶ã€è´¨é‡è¯„ä¼°ï¼‰
            Knowledge refined = refiner.refine(knowledge);
            
            return buildResult;
        });
    }
}
```

**æ•ˆæœï¼š** è‡ªåŠ¨å»ºç«‹çŸ¥è¯†å›¾è°±ï¼Œè·¨æ–‡æ¡£å…³è”æŸ¥è¯¢

### ğŸ’¾ åˆ›æ–° 4ï¼šå¼‚æ„å†—ä½™å­˜å‚¨

```java
// 6 ç§å­˜å‚¨å¼•æ“ï¼ŒæŒ‰éœ€é€‰æ‹©
@Configuration
public class StorageConfig {
    // File - é›¶ä¾èµ–ï¼Œå¼€ç®±å³ç”¨
    @Bean FileStorage fileStorage();
    
    // SQLite/H2 - åµŒå…¥å¼æ•°æ®åº“ï¼Œå•æ–‡ä»¶éƒ¨ç½²
    @Bean SQLiteStorage sqliteStorage();
    
    // MongoDB - æ–‡æ¡£æ•°æ®åº“ï¼Œå¤æ‚æŸ¥è¯¢
    @Bean MongoStorage mongoStorage();
    
    // Redis - é«˜é€Ÿç¼“å­˜ï¼Œæ¯«ç§’çº§å“åº”
    @Bean RedisStorage redisStorage();
    
    // Elasticsearch - ä¼ä¸šçº§æœç´¢ï¼Œæµ·é‡æ•°æ®
    @Bean ESStorage esStorage();
}
```

**æ•ˆæœï¼š** ç¾å¤‡ä¿éšœï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œè¯»å†™åˆ†ç¦»

### ğŸ”„ åˆ›æ–° 5ï¼šå¤šç»´åº¦ RAG å¹¶è¡Œ

```java
// åŒæ—¶è¿è¡Œå¤šå¥—ä¸åŒç»´åº¦çš„ RAG ç³»ç»Ÿ
@Service
public class MultiRAGRouter {
    RAGService rag768;   // é€šç”¨è¯­ä¹‰ç†è§£
    RAGService rag1024;  // ä¸“ä¸šé¢†åŸŸç²¾å‡†åŒ¹é…
    RAGService rag512;   // è½»é‡çº§æ£€ç´¢
    
    public Answer query(String question) {
        // æ ¹æ®é—®é¢˜ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ RAG
        RAGService rag = selectOptimalRAG(question);
        return rag.search(question);
    }
}
```

**æ•ˆæœï¼š** é’ˆå¯¹ä¸åŒåœºæ™¯è‡ªåŠ¨ä¼˜åŒ–ï¼Œé€Ÿåº¦å’Œç²¾åº¦å…¼é¡¾

---

## ğŸ†š ä¸ä¸»æµæ–¹æ¡ˆå¯¹æ¯”

### vs. Skill-based Agent (Copilot)

| ç‰¹æ€§ | Copilot | omni-agent |
|------|---------|------------|
| **é€‚ç”¨åœºæ™¯** | ä»£ç å¼€å‘ | æ‰€æœ‰åœºæ™¯ |
| **å‡†ç¡®ç‡** | ä»£ç åœºæ™¯é«˜ | çŸ¥è¯†åœºæ™¯é«˜ |
| **å·¥ä½œæ–¹å¼** | åŠ¨æ€è°ƒç”¨å·¥å…· | çŸ¥è¯†ç½‘ç»œ + æŒç»­å­¦ä¹  |
| **æˆæœ¬** | é¢‘ç¹è°ƒç”¨ AI | å‡å°‘è°ƒç”¨æ¬¡æ•° |
| **ä¸ªäººåŒ–** | å¼± | å¼ºï¼ˆè¶Šç”¨è¶Šç²¾å‡†ï¼‰ |

**ç»“è®ºï¼š** äº’è¡¥å…³ç³»ï¼Œä¸æ˜¯å¯¹ç«‹ã€‚Copilot æ“…é•¿ä»£ç ï¼Œomni-agent æ“…é•¿çŸ¥è¯†ç®¡ç†ã€‚

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. æ·»åŠ ä¾èµ–

```xml
<dependency>
    <groupId>top.yumbo.ai.omni</groupId>
    <artifactId>omni-agent-core</artifactId>
    <version>1.0.0</version>
</dependency>
```

### 2. æœ€å°åŒ–é…ç½®

```java
@SpringBootApplication
@EnableOmniAgent
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

### 3. å¼€å§‹ä½¿ç”¨

```java
@Autowired
private IntelligentQAService qaService;

@Autowired
private KnowledgeNetworkService knowledgeService;

// ä¸Šä¼ æ–‡æ¡£å¹¶æ„å»ºçŸ¥è¯†ç½‘ç»œ
public void processDocument(String filePath) {
    // 1. ä¸Šä¼ æ–‡æ¡£
    String documentId = documentService.upload(filePath);
    
    // 2. æ„å»ºçŸ¥è¯†ç½‘ç»œï¼ˆå¼‚æ­¥ï¼‰
    CompletableFuture<KnowledgeBuildResult> future = 
        knowledgeService.buildKnowledgeNetworkAsync(
            documentId, 
            "my-domain-id"
        );
    
    // 3. ç­‰å¾…å®Œæˆ
    KnowledgeBuildResult result = future.get();
}

// æ™ºèƒ½é—®ç­”
public void askQuestion(String question) {
    QARequest request = QARequest.builder()
        .query(question)
        .domainIds(Arrays.asList("my-domain-id"))
        .build();
    
    QAResponse response = qaService.ask(request);
    
    System.out.println(response.getAnswer());
    System.out.println("æ¥æº: " + response.getSources());
}
```

---

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—

- **knowledge-registry** - çŸ¥è¯†ç½‘ç»œæ„å»ºã€åŸŸç®¡ç†ã€çŸ¥è¯†å…³è”
- **intelligent-qa** - æ™ºèƒ½é—®ç­”ã€æ„å›¾åˆ†æã€çŸ¥è¯†ç¼ºå£æ£€æµ‹
- **hope-starter** - HOPE ä¸‰å±‚æ¶æ„ã€é—®é¢˜åˆ†ç±»ã€æ™ºèƒ½è·¯ç”±
- **document-processor** - æ–‡æ¡£å¤„ç†ï¼ˆWord/Excel/PPT/PDFï¼‰
- **chunking-starter** - 6 ç§æ™ºèƒ½åˆ†å—ç­–ç•¥
- **rag-starter-adapter** - RAG æ£€ç´¢ã€å¤šç»´åº¦å¹¶è¡Œ
- **ai-starter** - AI æœåŠ¡é›†æˆï¼ˆOllama/åœ¨çº¿API/ONNXï¼‰
- **document-storage** - 6 ç§å­˜å‚¨å¼•æ“
- **web** - REST API
- **UI** - React å‰ç«¯

---

## ğŸ¯ é€‚åˆä½ å—ï¼Ÿ

### âœ… é€‚åˆä½ ï¼Œå¦‚æœï¼š
- ä½ æƒ³å¼€å‘çŸ¥è¯†é—®ç­”ã€æ™ºèƒ½åŠ©æ‰‹ç±»åº”ç”¨
- ä½ éœ€è¦æ¯”ä¼ ç»Ÿ RAG æ›´ç²¾å‡†çš„ä¸Šä¸‹æ–‡
- ä½ å¸Œæœ›ç³»ç»Ÿèƒ½æŒç»­å­¦ä¹ å’Œä¼˜åŒ–
- ä½ éœ€è¦å¤„ç†éç»“æ„åŒ–ã€ä¸“ä¸šé¢†åŸŸçŸ¥è¯†
- ä½ æƒ³è¦é«˜å¯ç”¨ã€é«˜å¯é çš„æ¶æ„

### âš ï¸ å¯èƒ½ä¸é€‚åˆï¼Œå¦‚æœï¼š
- ä½ åªéœ€è¦ç®€å•çš„èŠå¤©æœºå™¨äºº
- ä½ ä¸»è¦åšä»£ç å¼€å‘ï¼ˆCopilot æ›´åˆé€‚ï¼‰
- ä½ éœ€è¦é›¶é…ç½®å¼€ç®±å³ç”¨ï¼ˆéœ€è¦ä¸€å®šé…ç½®ï¼‰

---

## ğŸš€ æœªæ¥è®¡åˆ’

- ğŸ”§ é›†æˆ MCP (Model Context Protocol)
- ğŸ› ï¸ å®ç°å®Œæ•´çš„ Agent Skill ç³»ç»Ÿ
- ğŸ¤ P2P çŸ¥è¯†å…±äº«ç½‘ç»œ
- ğŸ“Š æ›´å¤šä¼˜åŒ–ç®—æ³•å’Œç­–ç•¥
- ğŸŒ å®Œå–„ Web ç•Œé¢æ‰€æœ‰åŠŸèƒ½

---

## æœ€å

æˆ‘åš omni-agentï¼Œæ˜¯å› ä¸ºæˆ‘ä¹Ÿè¢«ä¼ ç»Ÿ RAG çš„è¯­ä¹‰å‰²è£‚é—®é¢˜å›°æ‰°è¿‡ã€‚

å¦‚æœä½ ä¹Ÿæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ ä¹Ÿç›¸ä¿¡"å®Œæ•´çš„ä¸Šä¸‹æ–‡ + AI çš„æ¨ç†èƒ½åŠ›"èƒ½åˆ›é€ ä»·å€¼ï¼Œæ¬¢è¿å°è¯•è¿™ä¸ªæ¡†æ¶ã€‚

**ä»£ç èƒœè¿‡åƒè¨€ä¸‡è¯­ï¼Œæ¬¢è¿ Star å’Œ PRï¼**

omni-agent ä½œè€…  
2026 å¹´ 1 æœˆ

---

**æŠ€æœ¯æ–‡æ¡£ï¼š**
- ğŸ“š [HOPE ç³»ç»Ÿè®¾è®¡](../../../../docs/refactor_01/core/HOPE_SYSTEM_DESIGN.md)
- ğŸ•¸ï¸ [çŸ¥è¯†ç½‘ç»œæ¶æ„](../../../../docs/refactor_01/core/KNOWLEDGE_NETWORK_AND_RAG_ARCHITECTURE.md)
- ğŸ§  [æ™ºèƒ½é—®ç­”ç³»ç»Ÿ](../../../../docs/refactor_01/core/INTELLIGENT_QA_SYSTEM_DESIGN.md)
- âš™ï¸ [é…ç½®ç¤ºä¾‹](../../../../CONFIG_EXAMPLES.md)
- ğŸš€ [å¿«é€Ÿå¼€å§‹](../../../../QUICKSTART.md)

