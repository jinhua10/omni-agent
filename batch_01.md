# æ‰¹æ¬¡1ï¼šåŸºç¡€å·¥å…·å±‚æ·±åº¦åˆ†ææŠ¥å‘Š

**åˆ†ææ—¶é—´ï¼š** 2025-12-31  
**åˆ†æäººå‘˜ï¼š** AI Assistant  
**æ¨¡å—ç‰ˆæœ¬ï¼š** 1.0.0  
**æ‰¹æ¬¡ï¼š** æ‰¹æ¬¡1 - åŸºç¡€å·¥å…·å±‚

---

## ğŸ“¦ æ¨¡å—æ¦‚è¿°

**æ¨¡å—åï¼š** omni-agent-common  
**æ¨¡å—ç±»å‹ï¼š** é€šç”¨å·¥å…·æ¨¡å—ï¼ˆCommon Utilitiesï¼‰  
**ä¸»è¦åŠŸèƒ½ï¼š** æä¾› HTTP å®¢æˆ·ç«¯é€‚é…å™¨å’Œå›½é™…åŒ–æ”¯æŒ  
**æŠ€æœ¯æ ˆï¼š** 
- Spring Web (RestTemplate)
- OkHttp3 (å¯é€‰)
- SnakeYAML (å›½é™…åŒ–)
- SLF4J (æ—¥å¿—)
- Lombok (ä»£ç ç®€åŒ–)

**å®šä½ï¼š**
- æ•´ä¸ªæ¡†æ¶çš„æœ€åº•å±‚åŸºç¡€æ¨¡å—
- æ— ä¸šåŠ¡é€»è¾‘ï¼Œçº¯å·¥å…·ç±»
- è¢«æ‰€æœ‰ä¸Šå±‚æ¨¡å—ä¾èµ–

---

## ğŸ—ï¸ åŒ…ç»“æ„åˆ†æ

### å®é™…åŒ…ç»“æ„

```
omni-agent-common/
â”œâ”€â”€ pom.xml
â””â”€â”€ src/
    â””â”€â”€ main/
        â””â”€â”€ java/top/yumbo/ai/omni/common/
            â”œâ”€â”€ http/                          # HTTP å®¢æˆ·ç«¯é€‚é…å™¨
            â”‚   â”œâ”€â”€ HttpClientAdapter.java     # é€‚é…å™¨æ¥å£ (34è¡Œ)
            â”‚   â”œâ”€â”€ OkHttp3Adapter.java        # OkHttp3å®ç° (96è¡Œ)
            â”‚   â””â”€â”€ RestTemplateAdapter.java   # RestTemplateå®ç° (59è¡Œ)
            â””â”€â”€ i18n/                          # å›½é™…åŒ–æ”¯æŒ
                â””â”€â”€ I18N.java                  # å›½é™…åŒ–å·¥å…·ç±» (309è¡Œ)
```

**ç»Ÿè®¡æ•°æ®ï¼š**
- Javaæ–‡ä»¶æ•°ï¼š**4 ä¸ª**
- æ€»ä»£ç è¡Œæ•°ï¼š**498 è¡Œ**
- å¹³å‡æ¯æ–‡ä»¶ï¼š**124.5 è¡Œ**

### åŒ…è·¯å¾„è¯„ä¼°

| åŒ…è·¯å¾„ | èŒè´£ | ç±»æ•°é‡ | ä»£ç è¡Œæ•° | è¯„åˆ† | è¯´æ˜ |
|--------|------|--------|---------|------|------|
| `http/` | HTTPå®¢æˆ·ç«¯é€‚é…å™¨ | 3 | 189 | â­â­â­â­â­ | è®¾è®¡ä¼˜ç§€ï¼Œé€‚é…å™¨æ¨¡å¼æ ‡å‡† |
| `i18n/` | å›½é™…åŒ–æ”¯æŒ | 1 | 309 | â­â­â­â­ | åŠŸèƒ½å®Œæ•´ï¼Œä½†å•æ–‡ä»¶è¿‡é•¿ |

### åŒ…ç»“æ„ä¼˜åŒ–å»ºè®®

âœ… **ä¼˜ç‚¹ï¼š**
- åŒ…ç»“æ„æ¸…æ™°ï¼ŒèŒè´£æ˜ç¡®
- ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™
- å‘½åè§„èŒƒï¼Œæ˜“äºç†è§£

âš ï¸ **æ”¹è¿›å»ºè®®ï¼š**
- [ ] `I18N.java` æ–‡ä»¶è¿‡é•¿ï¼ˆ309è¡Œï¼‰ï¼Œå»ºè®®æ‹†åˆ†ï¼š
  - `I18N.java` - å¯¹å¤–æ¥å£
  - `I18NLoader.java` - YAMLåŠ è½½é€»è¾‘
  - `I18NFormatter.java` - æ¶ˆæ¯æ ¼å¼åŒ–

---

## ğŸ“Š ä»£ç è´¨é‡è¯„ä¼°

### ä»£ç ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ | ç›®æ ‡ | çŠ¶æ€ |
|------|------|------|------|
| æ€»è¡Œæ•° | 498 | - | - |
| Javaæ–‡ä»¶æ•° | 4 | - | - |
| å¹³å‡ç±»é•¿åº¦ | 124.5 è¡Œ | <200 | âœ… åˆæ ¼ |
| æœ€é•¿ç±» | 309 è¡Œ (I18N.java) | <500 | âš ï¸ å»ºè®®ä¼˜åŒ– |
| æµ‹è¯•è¦†ç›–ç‡ | **0%** | >70% | âŒ ç¼ºå¤± |
| å•å…ƒæµ‹è¯•æ–‡ä»¶æ•° | **0** | â‰¥4 | âŒ ç¼ºå¤± |

### ä»£ç è§„èŒƒæ£€æŸ¥

#### âœ… ä¼˜ç‚¹

1. **å‘½åè§„èŒƒ**
   - ç±»åä½¿ç”¨é©¼å³°å‘½åï¼Œç¬¦åˆJavaè§„èŒƒ
   - æ–¹æ³•åæ¸…æ™°ï¼Œè§åçŸ¥ä¹‰
   - å¸¸é‡ä½¿ç”¨å¤§å†™ä¸‹åˆ’çº¿åˆ†éš”

2. **æ³¨é‡Šå®Œæ•´æ€§**
   - æ‰€æœ‰å…¬å…±æ¥å£éƒ½æœ‰ JavaDoc
   - åŒ…å«ä¸­è‹±æ–‡åŒè¯­æ³¨é‡Š
   - è¯´æ˜äº†ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹

3. **å¼‚å¸¸å¤„ç†**
   - HTTP è¯·æ±‚æœ‰å®Œæ•´çš„å¼‚å¸¸å¤„ç†
   - I18N åŠ è½½æœ‰ try-catch ä¿æŠ¤
   - å¼‚å¸¸ä¿¡æ¯æ¸…æ™°

4. **æ—¥å¿—è§„èŒƒ**
   - ä½¿ç”¨ SLF4J æ ‡å‡†æ—¥å¿—æ¡†æ¶
   - æ—¥å¿—çº§åˆ«ä½¿ç”¨åˆç†ï¼ˆdebug/info/warn/errorï¼‰
   - å…³é”®æ“ä½œæœ‰æ—¥å¿—è®°å½•

#### âš ï¸ éœ€è¦æ”¹è¿›

1. **èµ„æºé‡Šæ”¾**
   - âœ… OkHttp3Adapter ä½¿ç”¨äº† try-with-resources
   - âš ï¸ I18N çš„ InputStream æ­£ç¡®å…³é—­

2. **ç©ºå€¼å¤„ç†**
   - âœ… I18N ä¸­æœ‰å®Œå–„çš„ null æ£€æŸ¥
   - âš ï¸ HttpClientAdapter æ¥å£æœªè§„å®š headers/body ä¸º null æ—¶çš„è¡Œä¸º

3. **çº¿ç¨‹å®‰å…¨**
   - âœ… I18N çš„é™æ€ Map åœ¨ç±»åŠ è½½æ—¶åˆå§‹åŒ–ï¼Œçº¿ç¨‹å®‰å…¨
   - âš ï¸ OkHttp3Adapter çš„ client å®ä¾‹æ˜¯çº¿ç¨‹å®‰å…¨çš„
   - âš ï¸ æœªæ˜ç¡®è¯´æ˜æ˜¯å¦æ”¯æŒå¹¶å‘è°ƒç”¨

### å‘ç°çš„é—®é¢˜

#### ğŸ”´ é—®é¢˜1ï¼šç¼ºå°‘å•å…ƒæµ‹è¯•
- **ä¸¥é‡ç¨‹åº¦ï¼š** é«˜
- **é—®é¢˜æè¿°ï¼š** æ•´ä¸ªæ¨¡å—æ²¡æœ‰ä»»ä½•å•å…ƒæµ‹è¯•ä»£ç 
- **å½±å“èŒƒå›´ï¼š** 
  - æ— æ³•éªŒè¯ä»£ç æ­£ç¡®æ€§
  - é‡æ„é£é™©é«˜
  - å›å½’æµ‹è¯•å›°éš¾
- **å»ºè®®æ–¹æ¡ˆï¼š** 
  - ä¸ºæ¯ä¸ªç±»æ·»åŠ å•å…ƒæµ‹è¯•
  - æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡ï¼š>80%
  - é‡ç‚¹æµ‹è¯•è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸åœºæ™¯

#### ğŸŸ¡ é—®é¢˜2ï¼šI18N.java æ–‡ä»¶è¿‡é•¿
- **ä¸¥é‡ç¨‹åº¦ï¼š** ä¸­
- **é—®é¢˜æè¿°ï¼š** I18N.java æœ‰ 309 è¡Œä»£ç ï¼ŒèŒè´£è¿‡å¤š
- **å½±å“èŒƒå›´ï¼š** 
  - å¯ç»´æŠ¤æ€§é™ä½
  - ä»£ç å¤æ‚åº¦é«˜
- **å»ºè®®æ–¹æ¡ˆï¼š** 
  ```java
  // æ‹†åˆ†ä¸ºä¸‰ä¸ªç±»ï¼š
  I18N.java           - å…¬å…±é™æ€æ–¹æ³•ï¼ˆå¯¹å¤–æ¥å£ï¼‰
  I18NLoader.java     - YAML æ–‡ä»¶åŠ è½½é€»è¾‘
  I18NFormatter.java  - æ¶ˆæ¯æ ¼å¼åŒ–é€»è¾‘
  ```

#### ğŸŸ¡ é—®é¢˜3ï¼šHttpClientAdapter æ¥å£è®¾è®¡å•ä¸€
- **ä¸¥é‡ç¨‹åº¦ï¼š** ä¸­
- **é—®é¢˜æè¿°ï¼š** 
  - åªæ”¯æŒ POST æ–¹æ³•
  - ä¸æ”¯æŒ GET/PUT/DELETE
  - ä¸æ”¯æŒæ–‡ä»¶ä¸Šä¼ 
- **å½±å“èŒƒå›´ï¼š** 
  - åŠŸèƒ½å±€é™ï¼Œå¯èƒ½éœ€è¦ä¸Šå±‚é‡å¤å°è£…
- **å»ºè®®æ–¹æ¡ˆï¼š** 
  ```java
  public interface HttpClientAdapter {
      String get(String url, Map<String, String> headers) throws Exception;
      String post(String url, Map<String, String> headers, String body) throws Exception;
      String put(String url, Map<String, String> headers, String body) throws Exception;
      String delete(String url, Map<String, String> headers) throws Exception;
      
      // æ”¯æŒè¶…æ—¶é…ç½®
      void setTimeout(int connectTimeout, int readTimeout);
  }
  ```

#### ğŸŸ¢ é—®é¢˜4ï¼šç¼ºå°‘ README æ–‡æ¡£
- **ä¸¥é‡ç¨‹åº¦ï¼š** ä½
- **é—®é¢˜æè¿°ï¼š** æ¨¡å—æ ¹ç›®å½•æ²¡æœ‰ README.md
- **å½±å“èŒƒå›´ï¼š** æ–°äººä¸Šæ‰‹å›°éš¾
- **å»ºè®®æ–¹æ¡ˆï¼š** æ·»åŠ  README.mdï¼ŒåŒ…å«ï¼š
  - æ¨¡å—åŠŸèƒ½è¯´æ˜
  - ä½¿ç”¨ç¤ºä¾‹
  - ä¾èµ–è¯´æ˜

---

## âœ¨ åŠŸèƒ½åˆ†æ

### æ ¸å¿ƒåŠŸèƒ½æ¸…å•

| åŠŸèƒ½æ¨¡å— | åŠŸèƒ½ç‚¹ | çŠ¶æ€ | å®Œæ•´åº¦ | è¯´æ˜ |
|---------|-------|------|--------|------|
| **HTTPå®¢æˆ·ç«¯** | é€‚é…å™¨æ¨¡å¼è®¾è®¡ | âœ… | 100% | è®¾è®¡ä¼˜ç§€ |
| | RestTemplateå®ç° | âœ… | 100% | SpringåŸç”Ÿæ”¯æŒ |
| | OkHttp3å®ç° | âœ… | 100% | é«˜æ€§èƒ½å®ç° |
| | GETè¯·æ±‚æ”¯æŒ | âŒ | 0% | æœªå®ç° |
| | PUT/DELETEè¯·æ±‚ | âŒ | 0% | æœªå®ç° |
| | è¶…æ—¶é…ç½® | â³ | 50% | OkHttp3æœ‰ï¼ŒRestTemplateæ—  |
| | è¯·æ±‚æ‹¦æˆªå™¨ | âŒ | 0% | æœªæä¾›æ‰©å±•ç‚¹ |
| | å“åº”æ‹¦æˆªå™¨ | âŒ | 0% | æœªæä¾›æ‰©å±•ç‚¹ |
| **å›½é™…åŒ–** | ä¸­è‹±æ–‡æ”¯æŒ | âœ… | 100% | å®Œæ•´å®ç° |
| | YAMLæ–‡ä»¶åŠ è½½ | âœ… | 100% | æ”¯æŒå¤šæ–‡ä»¶ |
| | æ¶ˆæ¯æ ¼å¼åŒ– | âœ… | 100% | ä½¿ç”¨MessageFormat |
| | åµŒå¥—ç»“æ„å±•å¹³ | âœ… | 100% | ç‚¹å·åˆ†éš” |
| | åŠ¨æ€è¯­è¨€åˆ‡æ¢ | âœ… | 100% | æ”¯æŒè¿è¡Œæ—¶åˆ‡æ¢ |
| | å›é€€æœºåˆ¶ | âœ… | 100% | ä¸­æ–‡â†’è‹±æ–‡â†’key |
| | JARå†…èµ„æºåŠ è½½ | âœ… | 100% | æ”¯æŒJARéƒ¨ç½² |

### åŠŸèƒ½éªŒè¯

#### åŠŸèƒ½1ï¼šHTTP é€‚é…å™¨æ¨¡å¼
- **è®¾è®¡è¯„ä¼°ï¼š** â­â­â­â­â­
- **ä¼˜ç‚¹ï¼š**
  - æ ‡å‡†çš„é€‚é…å™¨æ¨¡å¼
  - æ¥å£æ¸…æ™°ï¼ŒèŒè´£æ˜ç¡®
  - æ”¯æŒå¤šç§å®ç°åˆ‡æ¢
  - é»˜è®¤ä½¿ç”¨ RestTemplateï¼ˆé›¶ä¾èµ–ï¼‰
  - å¯é€‰ OkHttp3ï¼ˆé«˜æ€§èƒ½ï¼‰
- **ä¸è¶³ï¼š**
  - åªæ”¯æŒ POST æ–¹æ³•
  - ç¼ºå°‘è¶…æ—¶é…ç½®çš„ç»Ÿä¸€æ¥å£
  - ç¼ºå°‘é‡è¯•æœºåˆ¶
  - ç¼ºå°‘è¯·æ±‚/å“åº”æ‹¦æˆªå™¨

#### åŠŸèƒ½2ï¼šOkHttp3 å®ç°
- **é…ç½®è¯„ä¼°ï¼š** â­â­â­â­
- **ä¼˜ç‚¹ï¼š**
  - è¿æ¥æ± é…ç½®åˆç†ï¼ˆ20è¿æ¥ï¼Œ5åˆ†é’ŸkeepAliveï¼‰
  - è¶…æ—¶é…ç½®åˆç†ï¼ˆ120ç§’ï¼‰
  - å¯ç”¨äº†è¿æ¥å¤±è´¥é‡è¯•
  - èµ„æºç®¡ç†æ­£ç¡®ï¼ˆtry-with-resourcesï¼‰
- **é…ç½®åˆ†æï¼š**
  ```java
  connectTimeout: 120s  // è¿æ¥è¶…æ—¶
  readTimeout: 120s     // è¯»å–è¶…æ—¶
  writeTimeout: 120s    // å†™å…¥è¶…æ—¶
  connectionPool: 20è¿æ¥, 5åˆ†é’Ÿ keepAlive
  retryOnConnectionFailure: true
  ```
- **å»ºè®®ï¼š**
  - è¶…æ—¶æ—¶é—´å¯é…ç½®åŒ–ï¼ˆå½“å‰ç¡¬ç¼–ç ï¼‰
  - æ·»åŠ è¿æ¥æ± ç›‘æ§

#### åŠŸèƒ½3ï¼šRestTemplate å®ç°
- **è®¾è®¡è¯„ä¼°ï¼š** â­â­â­
- **ä¼˜ç‚¹ï¼š**
  - Spring åŸç”Ÿæ”¯æŒï¼Œé›¶é¢å¤–ä¾èµ–
  - ä¸ Spring Boot è‡ªåŠ¨é…ç½®é›†æˆ
  - ä½¿ç”¨ç®€å•
- **ä¸è¶³ï¼š**
  - æ²¡æœ‰è¶…æ—¶é…ç½®ï¼ˆä¾èµ–å¤–éƒ¨æ³¨å…¥çš„ RestTemplate é…ç½®ï¼‰
  - ç¼ºå°‘è¿æ¥æ± é…ç½®è¯´æ˜
  - æ€§èƒ½ä¸å¦‚ OkHttp3

#### åŠŸèƒ½4ï¼šå›½é™…åŒ–æ”¯æŒ
- **è®¾è®¡è¯„ä¼°ï¼š** â­â­â­â­â­
- **ä¼˜ç‚¹ï¼š**
  - é™æ€å·¥å…·ç±»ï¼Œä½¿ç”¨ç®€å•
  - æ”¯æŒåµŒå¥— YAML ç»“æ„
  - è‡ªåŠ¨å±•å¹³ä¸ºç‚¹å·åˆ†éš”çš„ key
  - æ”¯æŒ JAR å†…èµ„æºåŠ è½½
  - æ”¯æŒæ–‡ä»¶ç³»ç»Ÿå’Œ JAR ä¸¤ç§éƒ¨ç½²æ–¹å¼
  - å®Œå–„çš„å›é€€æœºåˆ¶
  - ä¸­è‹±æ–‡åŒè¯­æ³¨é‡Š
- **å®ç°ç»†èŠ‚ï¼š**
  ```java
  // ç›®å½•ç»“æ„
  resources/i18n/
    â”œâ”€â”€ zh/
    â”‚   â”œâ”€â”€ messages.yml
    â”‚   â””â”€â”€ errors.yml
    â””â”€â”€ en/
        â”œâ”€â”€ messages.yml
        â””â”€â”€ errors.yml
  
  // ä½¿ç”¨æ–¹å¼
  I18N.get("common.success")           // è‡ªåŠ¨æ£€æµ‹è¯­è¨€
  I18N.getLang("error.not_found", "en", id)  // æŒ‡å®šè¯­è¨€
  ```
- **é«˜çº§ç‰¹æ€§ï¼š**
  - åŠ¨æ€æ‰«æç›®å½•ä¸‹æ‰€æœ‰ yml æ–‡ä»¶
  - æ”¯æŒæ–‡ä»¶ç³»ç»Ÿå’Œ JAR åŒ…ä¸¤ç§èµ„æºåŠ è½½
  - è‡ªåŠ¨å¤„ç† `lang` èŠ‚ç‚¹è§£åŒ…
  - å®‰å…¨çš„ null å€¼å¤„ç†
  - è¯¦ç»†çš„è¯Šæ–­æ—¥å¿—

**âš ï¸ å½“å‰ä½¿ç”¨æƒ…å†µåˆ†æï¼š**
- **å®é™…ä½¿ç”¨ç‡ï¼š** æä½ï¼ˆä»…åœ¨ 1 ä¸ªæ§åˆ¶å™¨ä¸­ä½¿ç”¨ï¼‰
- **ä½¿ç”¨ä½ç½®ï¼š** `ProcessingProgressController` - ç”¨äºæ—¥å¿—å’ŒAPIå“åº”
- **é—®é¢˜ï¼š** 
  - è®¾è®¡ä¼˜ç§€ä½†æœªè¢«å……åˆ†åˆ©ç”¨
  - å…¶ä»–æ§åˆ¶å™¨ç›´æ¥è¿”å›ç¡¬ç¼–ç çš„è‹±æ–‡æ¶ˆæ¯
  - ç¼ºå°‘ç»Ÿä¸€çš„å›½é™…åŒ–è§„èŒƒ

---

### ğŸŒ å›½é™…åŒ–ä¸šç•Œæœ€ä½³å®è·µåˆ†æ

#### 1. Spring Boot æ ‡å‡†æ–¹æ¡ˆï¼ˆæ¨èï¼‰

**æ–¹æ¡ˆï¼š** Spring MessageSource + ResourceBundle

```java
// é…ç½®
@Configuration
public class I18nConfig {
    @Bean
    public MessageSource messageSource() {
        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();
        messageSource.setBasenames("i18n/messages", "i18n/errors");
        messageSource.setDefaultEncoding("UTF-8");
        messageSource.setFallbackToSystemLocale(false);
        return messageSource;
    }
    
    @Bean
    public LocaleResolver localeResolver() {
        // 1. AcceptHeaderLocaleResolver - åŸºäº Accept-Language è¯·æ±‚å¤´
        // 2. SessionLocaleResolver - åŸºäº Session
        // 3. CookieLocaleResolver - åŸºäº Cookie
        AcceptHeaderLocaleResolver resolver = new AcceptHeaderLocaleResolver();
        resolver.setDefaultLocale(Locale.SIMPLIFIED_CHINESE);
        return resolver;
    }
}

// ä½¿ç”¨æ–¹å¼
@Service
public class MyService {
    @Autowired
    private MessageSource messageSource;
    
    public String getMessage(String key, Object... args) {
        // è‡ªåŠ¨ä» LocaleContextHolder è·å–å½“å‰è¯­è¨€
        return messageSource.getMessage(key, args, LocaleContextHolder.getLocale());
    }
}

// Controller ä¸­
@RestController
public class MyController {
    @Autowired
    private MessageSource messageSource;
    
    @GetMapping("/api/test")
    public ResponseEntity<?> test(@RequestHeader(value = "Accept-Language", required = false) String lang) {
        Locale locale = lang != null ? Locale.forLanguageTag(lang) : Locale.getDefault();
        String message = messageSource.getMessage("test.success", null, locale);
        return ResponseEntity.ok(Map.of("message", message));
    }
}
```

**ä¼˜ç‚¹ï¼š**
- âœ… Spring å®˜æ–¹æ ‡å‡†ï¼Œç”Ÿæ€å®Œå–„
- âœ… ä¸ Spring MVC æ·±åº¦é›†æˆ
- âœ… æ”¯æŒå¤šç§ LocaleResolver ç­–ç•¥
- âœ… è‡ªåŠ¨ä»è¯·æ±‚å¤´è·å–è¯­è¨€
- âœ… æ”¯æŒ .properties å’Œ .yml æ–‡ä»¶

**ç¼ºç‚¹ï¼š**
- âš ï¸ éœ€è¦ä¾èµ–æ³¨å…¥ï¼Œæ— æ³•åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨
- âš ï¸ ä¸æ”¯æŒé Spring ç¯å¢ƒ

---

#### 2. å½“å‰æ–¹æ¡ˆï¼ˆé™æ€å·¥å…·ç±»ï¼‰è¯„ä¼°

**å½“å‰è®¾è®¡ï¼š** `I18N.java` é™æ€å·¥å…·ç±»

**ä¼˜ç‚¹ï¼š**
- âœ… ç®€å•æ˜“ç”¨ï¼Œæ— éœ€ä¾èµ–æ³¨å…¥
- âœ… æ”¯æŒé Spring ç¯å¢ƒï¼ˆæ—¥å¿—åœºæ™¯ï¼‰
- âœ… é™æ€åˆå§‹åŒ–ï¼Œæ€§èƒ½ä¼˜ç§€
- âœ… YAML æ ¼å¼æ›´æ¸…æ™°

**ç¼ºç‚¹ï¼š**
- âŒ ä¸ç¬¦åˆ Spring è§„èŒƒ
- âŒ æ— æ³•ä¸ Spring MVC è‡ªåŠ¨é›†æˆ
- âŒ éœ€è¦æ‰‹åŠ¨ä¼ é€’ `lang` å‚æ•°
- âŒ æœªè¢«å……åˆ†ä½¿ç”¨

---

#### 3. æ··åˆæ–¹æ¡ˆï¼ˆæ¨èï¼‰â­

**å»ºè®®ï¼š** ä¿ç•™å½“å‰ I18N ç”¨äºæ—¥å¿—ï¼Œæ–°å¢ Spring MessageSource ç”¨äº API

```
å›½é™…åŒ–æ–¹æ¡ˆåˆ†å±‚ï¼š
â”œâ”€â”€ I18Nï¼ˆé™æ€å·¥å…·ç±»ï¼‰
â”‚   â””â”€â”€ ç”¨é€”ï¼šåç«¯æ—¥å¿—å›½é™…åŒ–
â”‚   â””â”€â”€ åœºæ™¯ï¼šlog.info(I18N.get("xxx"))
â”‚
â””â”€â”€ MessageSourceï¼ˆSpring Beanï¼‰
    â””â”€â”€ ç”¨é€”ï¼šAPI å“åº”å›½é™…åŒ–
    â””â”€â”€ åœºæ™¯ï¼šController è¿”å›ç”¨æˆ·å¯è§çš„æ¶ˆæ¯
```

**å®ç°å»ºè®®ï¼š**

```java
// 1. ä¿ç•™ I18N ç”¨äºæ—¥å¿—
log.info(I18N.get("document.processing.start", filename));

// 2. æ–°å¢ MessageSourceConfig
@Configuration
public class MessageSourceConfig {
    @Bean
    public MessageSource messageSource() {
        ResourceBundleMessageSource source = new ResourceBundleMessageSource();
        source.setBasenames("i18n/api/messages", "i18n/api/errors");
        source.setDefaultEncoding("UTF-8");
        return source;
    }
    
    @Bean
    public LocaleResolver localeResolver() {
        AcceptHeaderLocaleResolver resolver = new AcceptHeaderLocaleResolver();
        resolver.setDefaultLocale(Locale.SIMPLIFIED_CHINESE);
        return resolver;
    }
}

// 3. åˆ›å»º I18nService å°è£…å¸¸ç”¨æ“ä½œ
@Service
public class I18nService {
    @Autowired
    private MessageSource messageSource;
    
    public String get(String key, Object... args) {
        return messageSource.getMessage(key, args, LocaleContextHolder.getLocale());
    }
    
    public String get(String key, Locale locale, Object... args) {
        return messageSource.getMessage(key, args, locale);
    }
}

// 4. Controller ä¸­ä½¿ç”¨
@RestController
public class DocumentController {
    @Autowired
    private I18nService i18nService;
    
    @PostMapping("/api/document/upload")
    public ResponseEntity<?> upload() {
        log.info(I18N.get("document.upload.start")); // æ—¥å¿—ç”¨é™æ€æ–¹æ³•
        
        // ... ä¸šåŠ¡é€»è¾‘
        
        return ResponseEntity.ok(Map.of(
            "message", i18nService.get("document.upload.success") // APIå“åº”ç”¨Spring
        ));
    }
}
```

---

#### 4. ä¸šç•Œä¸»æµæ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|---------|------|------|--------|
| **Spring MessageSource** | APIå“åº”ã€Webåº”ç”¨ | Springæ ‡å‡†ï¼Œè‡ªåŠ¨é›†æˆ | éœ€è¦ä¾èµ–æ³¨å…¥ | â­â­â­â­â­ |
| **é™æ€å·¥å…·ç±»** | æ—¥å¿—ã€å·¥å…·æ–¹æ³• | ç®€å•æ˜“ç”¨ï¼Œæ— éœ€æ³¨å…¥ | ä¸ç¬¦åˆSpringè§„èŒƒ | â­â­â­â­ |
| **æ··åˆæ–¹æ¡ˆ** | å¤§å‹é¡¹ç›® | å…¼é¡¾ä¸¤è€…ä¼˜ç‚¹ | éœ€è¦ç»´æŠ¤ä¸¤å¥— | â­â­â­â­â­ |
| **ç¬¬ä¸‰æ–¹åº“ï¼ˆi18nextç­‰ï¼‰** | å‰åç«¯åˆ†ç¦» | å‰åç«¯ç»Ÿä¸€ | å¼•å…¥é¢å¤–ä¾èµ– | â­â­â­ |

---

#### 5. æ”¹è¿›å»ºè®®

**çŸ­æœŸæ”¹è¿›ï¼ˆ1å‘¨ï¼‰ï¼š**
1. âœ… ä¿ç•™å½“å‰ `I18N.java`ï¼Œç”¨äºæ—¥å¿—å›½é™…åŒ–
2. âœ… æ–°å¢ `MessageSourceConfig`ï¼Œç”¨äº API å“åº”
3. âœ… åˆ›å»º `I18nService` ç»Ÿä¸€å°è£…
4. âœ… åœ¨ `omni-agent-web` æ¨¡å—å»ºç«‹å›½é™…åŒ–è§„èŒƒ

**é•¿æœŸè§„åˆ’ï¼ˆ1ä¸ªæœˆï¼‰ï¼š**
1. ç»Ÿä¸€æ‰€æœ‰æ§åˆ¶å™¨çš„ API å“åº”æ¶ˆæ¯
2. å»ºç«‹å›½é™…åŒ–æ¶ˆæ¯æ–‡ä»¶ç®¡ç†è§„èŒƒ
3. æ·»åŠ å›½é™…åŒ–æµ‹è¯•ç”¨ä¾‹
4. ç¼–å†™å›½é™…åŒ–æœ€ä½³å®è·µæ–‡æ¡£

**ç›®å½•ç»“æ„å»ºè®®ï¼š**
```
resources/
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ log/              # æ—¥å¿—å›½é™…åŒ–ï¼ˆå½“å‰I18Nä½¿ç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ zh/
â”‚   â”‚   â”‚   â”œâ”€â”€ messages.yml
â”‚   â”‚   â”‚   â””â”€â”€ errors.yml
â”‚   â”‚   â””â”€â”€ en/
â”‚   â”‚       â”œâ”€â”€ messages.yml
â”‚   â”‚       â””â”€â”€ errors.yml
â”‚   â””â”€â”€ api/              # APIå›½é™…åŒ–ï¼ˆMessageSourceä½¿ç”¨ï¼‰
â”‚       â”œâ”€â”€ messages_zh_CN.properties
â”‚       â”œâ”€â”€ messages_en_US.properties
â”‚       â”œâ”€â”€ errors_zh_CN.properties
â”‚       â””â”€â”€ errors_en_US.properties
```

---

#### 6. å‚è€ƒä¸šç•Œæ ‡å‡†

**Spring Boot å®˜æ–¹æ¨èï¼š**
- ä½¿ç”¨ `MessageSource` + `LocaleResolver`
- åŸºäº `Accept-Language` è¯·æ±‚å¤´è‡ªåŠ¨åˆ‡æ¢
- ä½¿ç”¨ `.properties` æ–‡ä»¶ï¼ˆå…¼å®¹æ€§å¥½ï¼‰

**å¤§å‹é¡¹ç›®å®è·µï¼š**
- **åç«¯ï¼š** Spring MessageSourceï¼ˆAPIå“åº”ï¼‰
- **æ—¥å¿—ï¼š** ç®€å•çš„é™æ€å·¥å…·ç±»æˆ– SLF4J MDC
- **å‰ç«¯ï¼š** react-i18next / vue-i18nï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰
- **ç§»åŠ¨ç«¯ï¼š** å‰ç«¯æ§åˆ¶è¯­è¨€åˆ‡æ¢ï¼Œåç«¯é€šè¿‡ API å‚æ•°æ”¯æŒ

**å›½é™…åŒ–æˆç†Ÿåº¦æ¨¡å‹ï¼š**
```
Level 1: ç¡¬ç¼–ç è‹±æ–‡ âŒ
Level 2: é™æ€å·¥å…·ç±» âš ï¸ï¼ˆå½“å‰ï¼‰
Level 3: Spring MessageSource âœ…ï¼ˆæ¨èï¼‰
Level 4: å‰åç«¯ç»Ÿä¸€å›½é™…åŒ–æ–¹æ¡ˆ â­ï¼ˆå¤§å‹é¡¹ç›®ï¼‰
Level 5: åŠ¨æ€ç¿»è¯‘ + æœ¬åœ°åŒ–ï¼ˆå¤šåœ°åŒºï¼‰ â­â­ï¼ˆè·¨å›½å…¬å¸ï¼‰
```

---

### ğŸ“ å›½é™…åŒ–æ”¹è¿›è¡ŒåŠ¨é¡¹

**ç«‹å³æ‰§è¡Œï¼ˆWeek 1ï¼‰ï¼š**
- [ ] ä¿ç•™ `I18N.java`ï¼Œæ·»åŠ ä½¿ç”¨è¯´æ˜ï¼ˆä»…ç”¨äºæ—¥å¿—ï¼‰
- [ ] åˆ›å»º `MessageSourceConfig` é…ç½®ç±»
- [ ] åˆ›å»º `I18nService` å°è£…ç±»
- [ ] åœ¨ä¸€ä¸ªæ§åˆ¶å™¨ä¸­è¯•ç‚¹æ–°æ–¹æ¡ˆ

**çŸ­æœŸï¼ˆWeek 2-3ï¼‰ï¼š**
- [ ] ç»Ÿä¸€ `omni-agent-web` æ‰€æœ‰æ§åˆ¶å™¨çš„å›½é™…åŒ–
- [ ] å»ºç«‹å›½é™…åŒ–æ¶ˆæ¯æ–‡ä»¶è§„èŒƒ
- [ ] æ·»åŠ å›½é™…åŒ–æµ‹è¯•ç”¨ä¾‹

**ä¸­æœŸï¼ˆMonth 2ï¼‰ï¼š**
- [ ] æ‰©å±•åˆ°å…¶ä»–æ¨¡å—
- [ ] ç¼–å†™å›½é™…åŒ–æœ€ä½³å®è·µæ–‡æ¡£
- [ ] å»ºç«‹è‡ªåŠ¨åŒ–æ£€æŸ¥ï¼ˆæ‰€æœ‰ç¡¬ç¼–ç æ¶ˆæ¯å¿…é¡»å›½é™…åŒ–ï¼‰

---



## ğŸš€ æ€§èƒ½åˆ†æ

### æ€§èƒ½ç‰¹å¾

#### HTTP å®¢æˆ·ç«¯æ€§èƒ½

| å®ç°æ–¹å¼ | è¿æ¥å»ºç«‹ | å¹¶å‘æ”¯æŒ | å†…å­˜å ç”¨ | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|---------|---------|
| **RestTemplate** | è¾ƒæ…¢ | ä¾èµ–é…ç½® | è¾ƒé«˜ | ä½é¢‘è°ƒç”¨ï¼Œç®€å•åœºæ™¯ |
| **OkHttp3** | å¿« | ä¼˜ç§€ï¼ˆè¿æ¥æ± ï¼‰ | ä½ | é«˜é¢‘è°ƒç”¨ï¼Œç”Ÿäº§ç¯å¢ƒ |

**OkHttp3 æ€§èƒ½ä¼˜åŠ¿ï¼š**
- âœ… è¿æ¥æ± ç®¡ç†ï¼ˆ20è¿æ¥å¤ç”¨ï¼‰
- âœ… HTTP/2 æ”¯æŒ
- âœ… GZIP å‹ç¼©
- âœ… å“åº”ç¼“å­˜ï¼ˆæœªå¯ç”¨ï¼‰
- âœ… è¿æ¥å¤±è´¥è‡ªåŠ¨é‡è¯•

**æ¨èé…ç½®ï¼š**
```java
// ç”Ÿäº§ç¯å¢ƒå»ºè®®
connectionPool: 50è¿æ¥, 5åˆ†é’Ÿ keepAlive
connectTimeout: 30s
readTimeout: 60s
writeTimeout: 60s
```

#### å›½é™…åŒ–æ€§èƒ½

**åŠ è½½æ€§èƒ½ï¼š**
- âœ… é™æ€åˆå§‹åŒ–ï¼Œä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ¶ˆæ¯
- âœ… ä½¿ç”¨ HashMap å­˜å‚¨ï¼ŒO(1) æŸ¥è¯¢é€Ÿåº¦
- âœ… ä¸éœ€è¦æ¯æ¬¡è¯»å–æ–‡ä»¶

**è¿è¡Œæ—¶æ€§èƒ½ï¼š**
- âœ… çº¯å†…å­˜æ“ä½œï¼Œæ€§èƒ½æé«˜
- âš ï¸ MessageFormat æœ‰ä¸€å®šæ€§èƒ½å¼€é”€ï¼ˆå¯æ¥å—ï¼‰

**å†…å­˜å ç”¨ï¼š**
- å‡è®¾ 1000 æ¡æ¶ˆæ¯ï¼Œæ¯æ¡å¹³å‡ 50 å­—ç¬¦
- ä¸­æ–‡ï¼š~50KB
- è‹±æ–‡ï¼š~50KB
- æ€»è®¡ï¼š~100KBï¼ˆå¯å¿½ç•¥ä¸è®¡ï¼‰

### æ€§èƒ½æµ‹è¯•å»ºè®®

**æµ‹è¯•åœºæ™¯ï¼š**
1. **HTTP å®¢æˆ·ç«¯å‹åŠ›æµ‹è¯•**
   - å¹¶å‘ 100 è¯·æ±‚
   - æµ‹è¯•è¿æ¥æ± å¤ç”¨
   - æµ‹è¯•è¶…æ—¶å¤„ç†
   
2. **å›½é™…åŒ–æ€§èƒ½æµ‹è¯•**
   - 10000 æ¬¡æ¶ˆæ¯æ ¼å¼åŒ–
   - æµ‹è¯•æ ¼å¼åŒ–æ€§èƒ½
   - æµ‹è¯•å†…å­˜å ç”¨

---

## ğŸ”§ æ‰©å±•æ€§åˆ†æ

### æ‰©å±•ç‚¹è®¾è®¡

| æ‰©å±•ç‚¹ | è®¾è®¡æ–¹å¼ | ä½¿ç”¨éš¾åº¦ | è¯„åˆ† | è¯´æ˜ |
|--------|---------|---------|------|------|
| HTTP å®¢æˆ·ç«¯å®ç° | æ¥å£å®ç° | ä½ | â­â­â­â­â­ | æ ‡å‡†é€‚é…å™¨æ¨¡å¼ |
| å›½é™…åŒ–è¯­è¨€æ”¯æŒ | æ·»åŠ ç›®å½• | æä½ | â­â­â­â­â­ | åªéœ€æ·»åŠ  i18n/xx/ ç›®å½• |
| æ¶ˆæ¯æ ¼å¼åŒ– | MessageFormat | ä½ | â­â­â­â­ | Java æ ‡å‡†åº“æ”¯æŒ |

### è®¾è®¡æ¨¡å¼åº”ç”¨

#### âœ… å·²åº”ç”¨çš„è®¾è®¡æ¨¡å¼

1. **é€‚é…å™¨æ¨¡å¼** - HTTP å®¢æˆ·ç«¯
   ```java
   HttpClientAdapter (æ¥å£)
      â”œâ”€â”€ RestTemplateAdapter (é€‚é… Spring RestTemplate)
      â””â”€â”€ OkHttp3Adapter (é€‚é… OkHttp3)
   ```
   - **ä¼˜ç‚¹ï¼š** ç»Ÿä¸€æ¥å£ï¼Œæ˜“äºåˆ‡æ¢å®ç°
   - **è¯„åˆ†ï¼š** â­â­â­â­â­

2. **å•ä¾‹æ¨¡å¼** - I18N å·¥å…·ç±»
   ```java
   public final class I18N {
       private static final Map<String, String> messagesZh = new HashMap<>();
       private static final Map<String, String> messagesEn = new HashMap<>();
       static { /* é™æ€åˆå§‹åŒ– */ }
   }
   ```
   - **ä¼˜ç‚¹ï¼š** çº¿ç¨‹å®‰å…¨ï¼Œå»¶è¿ŸåŠ è½½
   - **è¯„åˆ†ï¼š** â­â­â­â­â­

#### âš ï¸ å¯ä»¥æ·»åŠ çš„è®¾è®¡æ¨¡å¼

1. **ç­–ç•¥æ¨¡å¼** - HTTP é‡è¯•ç­–ç•¥
   ```java
   public interface RetryStrategy {
       boolean shouldRetry(int attemptCount, Exception e);
       long getRetryDelay(int attemptCount);
   }
   ```

2. **å»ºé€ è€…æ¨¡å¼** - HTTP å®¢æˆ·ç«¯é…ç½®
   ```java
   OkHttp3Adapter.builder()
       .connectTimeout(30, TimeUnit.SECONDS)
       .readTimeout(60, TimeUnit.SECONDS)
       .connectionPool(50, 5, TimeUnit.MINUTES)
       .build();
   ```

3. **æ‹¦æˆªå™¨æ¨¡å¼** - è¯·æ±‚/å“åº”å¤„ç†
   ```java
   public interface HttpInterceptor {
       void beforeRequest(Request request);
       void afterResponse(Response response);
   }
   ```

### æ‰©å±•æ€§æ”¹è¿›å»ºè®®

#### 1. HTTP å®¢æˆ·ç«¯æ‰©å±•

```java
public interface HttpClientAdapter {
    // åŸºç¡€æ–¹æ³•
    String get(String url, Map<String, String> headers) throws Exception;
    String post(String url, Map<String, String> headers, String body) throws Exception;
    String put(String url, Map<String, String> headers, String body) throws Exception;
    String delete(String url, Map<String, String> headers) throws Exception;
    
    // é…ç½®æ–¹æ³•
    void setTimeout(int connectTimeout, int readTimeout);
    void setRetryStrategy(RetryStrategy strategy);
    
    // æ‹¦æˆªå™¨
    void addInterceptor(HttpInterceptor interceptor);
    
    // ç”Ÿå‘½å‘¨æœŸ
    void shutdown();
    
    // å…ƒæ•°æ®
    String getName();
    Map<String, Object> getMetrics(); // è¿æ¥æ± ç»Ÿè®¡
}
```

#### 2. å›½é™…åŒ–æ‰©å±•

```java
// æ”¯æŒæ›´å¤šè¯­è¨€
i18n/
  â”œâ”€â”€ zh/
  â”œâ”€â”€ en/
  â”œâ”€â”€ ja/  // æ—¥è¯­
  â”œâ”€â”€ ko/  // éŸ©è¯­
  â””â”€â”€ fr/  // æ³•è¯­

// æ”¯æŒåŠ¨æ€é‡è½½
I18N.reload();  // é‡æ–°åŠ è½½æ¶ˆæ¯æ–‡ä»¶
I18N.loadFromPath("custom/i18n/");  // ä»è‡ªå®šä¹‰è·¯å¾„åŠ è½½
```

---

## ğŸ§ª æµ‹è¯•è¯„ä¼°

### æµ‹è¯•è¦†ç›–æƒ…å†µ

**å½“å‰çŠ¶æ€ï¼š** âŒ ä¸¥é‡ç¼ºå¤±

| æ¨¡å— | å•å…ƒæµ‹è¯• | é›†æˆæµ‹è¯• | è¦†ç›–ç‡ | çŠ¶æ€ |
|------|---------|---------|--------|------|
| http/ | âŒ ä¸å­˜åœ¨ | âŒ ä¸å­˜åœ¨ | 0% | âŒ ç¼ºå¤± |
| i18n/ | âŒ ä¸å­˜åœ¨ | âŒ ä¸å­˜åœ¨ | 0% | âŒ ç¼ºå¤± |

### å¿…é¡»è¡¥å……çš„æµ‹è¯•

#### 1. HttpClientAdapter æµ‹è¯•

```java
// OkHttp3AdapterTest.java
@Test
void testPostSuccess() {
    // æµ‹è¯•æˆåŠŸçš„ POST è¯·æ±‚
}

@Test
void testPostWithTimeout() {
    // æµ‹è¯•è¶…æ—¶åœºæ™¯
}

@Test
void testPostWithConnectionFailure() {
    // æµ‹è¯•è¿æ¥å¤±è´¥é‡è¯•
}

@Test
void testConnectionPoolReuse() {
    // æµ‹è¯•è¿æ¥æ± å¤ç”¨
}

@Test
void testResourceRelease() {
    // æµ‹è¯•èµ„æºæ­£ç¡®é‡Šæ”¾
}
```

#### 2. I18N æµ‹è¯•

```java
// I18NTest.java
@Test
void testChineseMessage() {
    // æµ‹è¯•ä¸­æ–‡æ¶ˆæ¯è·å–
}

@Test
void testEnglishMessage() {
    // æµ‹è¯•è‹±æ–‡æ¶ˆæ¯è·å–
}

@Test
void testMessageFormatting() {
    // æµ‹è¯•æ¶ˆæ¯æ ¼å¼åŒ–ï¼ˆå¸¦å‚æ•°ï¼‰
}

@Test
void testMissingKey() {
    // æµ‹è¯•ç¼ºå¤±çš„ keyï¼ˆåº”è¿”å› [key]ï¼‰
}

@Test
void testNestedYamlFlattening() {
    // æµ‹è¯•åµŒå¥—ç»“æ„å±•å¹³
}

@Test
void testJarResourceLoading() {
    // æµ‹è¯• JAR å†…èµ„æºåŠ è½½
}

@Test
void testNullSafety() {
    // æµ‹è¯• null å€¼å¤„ç†
}
```

### æµ‹è¯•ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | æµ‹è¯•ç±»å‹ | æµ‹è¯•æ•°é‡ | é¢„è®¡å·¥æ—¶ |
|--------|---------|---------|---------|
| ğŸ”´ é«˜ | HTTP å®¢æˆ·ç«¯å•å…ƒæµ‹è¯• | 15+ | 1å¤© |
| ğŸ”´ é«˜ | I18N å•å…ƒæµ‹è¯• | 12+ | 0.5å¤© |
| ğŸŸ¡ ä¸­ | HTTP é›†æˆæµ‹è¯• | 5+ | 0.5å¤© |
| ğŸŸ¢ ä½ | æ€§èƒ½åŸºå‡†æµ‹è¯• | 3+ | 0.5å¤© |

**æ€»è®¡ï¼š** 2.5 å·¥ä½œæ—¥

---

## ğŸ“š æ–‡æ¡£è¯„ä¼°

### æ–‡æ¡£å®Œæ•´æ€§

| æ–‡æ¡£ç±»å‹ | çŠ¶æ€ | è´¨é‡ | è¦†ç›–ç‡ | å»ºè®® |
|---------|------|------|--------|------|
| **JavaDoc** | â³ éƒ¨åˆ† | â­â­â­â­ | ~80% | è¡¥å……ç¼ºå¤±çš„æ–¹æ³•æ³¨é‡Š |
| **README** | âŒ ç¼ºå¤± | - | 0% | éœ€è¦åˆ›å»º |
| **ä½¿ç”¨ç¤ºä¾‹** | â³ JavaDocä¸­ | â­â­â­ | 60% | éœ€è¦ç‹¬ç«‹çš„ç¤ºä¾‹æ–‡æ¡£ |
| **æ¶æ„æ–‡æ¡£** | âŒ ç¼ºå¤± | - | 0% | éœ€è¦è¯´æ˜è®¾è®¡æ€è·¯ |

### JavaDoc è¯„ä¼°

**ä¼˜ç‚¹ï¼š**
- âœ… æ‰€æœ‰å…¬å…±ç±»å’Œæ¥å£éƒ½æœ‰ç±»çº§æ³¨é‡Š
- âœ… å¤§éƒ¨åˆ†å…¬å…±æ–¹æ³•æœ‰æ–¹æ³•æ³¨é‡Š
- âœ… åŒ…å«ä¸­è‹±æ–‡åŒè¯­æ³¨é‡Š
- âœ… æ³¨é‡ŠåŒ…å«ä½¿ç”¨ç¤ºä¾‹ï¼ˆOkHttp3Adapterï¼‰

**ä¸è¶³ï¼š**
- âš ï¸ éƒ¨åˆ†ç§æœ‰æ–¹æ³•ç¼ºå°‘æ³¨é‡Š
- âš ï¸ å¼‚å¸¸åœºæ™¯è¯´æ˜ä¸å¤Ÿè¯¦ç»†
- âš ï¸ ç¼ºå°‘æ€§èƒ½è¯´æ˜

### éœ€è¦è¡¥å……çš„æ–‡æ¡£

#### 1. README.md

```markdown
# OmniAgent Common

é€šç”¨å·¥å…·æ¨¡å—ï¼Œæä¾› HTTP å®¢æˆ·ç«¯é€‚é…å™¨å’Œå›½é™…åŒ–æ”¯æŒã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ HTTP å®¢æˆ·ç«¯é€‚é…å™¨ï¼ˆæ”¯æŒ RestTemplate å’Œ OkHttp3ï¼‰
- ğŸŒ å›½é™…åŒ–æ”¯æŒï¼ˆä¸­è‹±æ–‡ï¼‰
- ğŸ“¦ é›¶ä¸šåŠ¡ä¾èµ–ï¼Œçº¯å·¥å…·ç±»

## å¿«é€Ÿå¼€å§‹

### HTTP å®¢æˆ·ç«¯ä½¿ç”¨

```java
// ä½¿ç”¨ RestTemplateï¼ˆé»˜è®¤ï¼‰
RestTemplate restTemplate = new RestTemplate();
HttpClientAdapter client = new RestTemplateAdapter(restTemplate);

// ä½¿ç”¨ OkHttp3ï¼ˆé«˜æ€§èƒ½ï¼‰
HttpClientAdapter client = new OkHttp3Adapter();

// å‘é€è¯·æ±‚
Map<String, String> headers = new HashMap<>();
headers.put("Content-Type", "application/json");
String response = client.post("http://api.example.com", headers, "{\"key\":\"value\"}");
```

### å›½é™…åŒ–ä½¿ç”¨

```java
// è‡ªåŠ¨æ£€æµ‹è¯­è¨€
String message = I18N.get("common.success");

// æŒ‡å®šè¯­è¨€
String message = I18N.getLang("error.not_found", "en", userId);

// å¸¦å‚æ•°
String message = I18N.get("user.created", username, userId);
```

## ä¾èµ–è¯´æ˜

### å¿…éœ€ä¾èµ–
- Spring Web
- SLF4J
- SnakeYAML

### å¯é€‰ä¾èµ–
- OkHttp3ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰
```

#### 2. æ¶æ„è®¾è®¡æ–‡æ¡£

```markdown
# Common æ¨¡å—æ¶æ„è®¾è®¡

## è®¾è®¡åŸåˆ™

1. **é›¶ä¸šåŠ¡é€»è¾‘** - åªæä¾›é€šç”¨å·¥å…·
2. **æœ€å°ä¾èµ–** - é»˜è®¤é…ç½®é›¶å¤–éƒ¨ä¾èµ–
3. **é€‚é…å™¨ä¼˜å…ˆ** - æ”¯æŒå¤šç§å®ç°åˆ‡æ¢
4. **æ€§èƒ½ä¼˜å…ˆ** - OkHttp3 é«˜æ€§èƒ½é€‰é¡¹

## è®¾è®¡å†³ç­–

### ä¸ºä»€ä¹ˆä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Ÿ
- ç»Ÿä¸€æ¥å£ï¼Œé™ä½ä¸Šå±‚ä¾èµ–
- æ”¯æŒè¿è¡Œæ—¶åˆ‡æ¢å®ç°
- ä¾¿äºå•å…ƒæµ‹è¯• Mock

### ä¸ºä»€ä¹ˆ I18N ä½¿ç”¨é™æ€ç±»ï¼Ÿ
- ç®€åŒ–ä½¿ç”¨ï¼Œæ— éœ€ä¾èµ–æ³¨å…¥
- æ”¯æŒé Spring ç¯å¢ƒä½¿ç”¨
- é™æ€åˆå§‹åŒ–ï¼Œæ€§èƒ½æœ€ä¼˜
```

---

## ğŸ”’ å®‰å…¨æ€§è¯„ä¼°

### å®‰å…¨æ£€æŸ¥é¡¹

#### âœ… å·²å®ç°çš„å®‰å…¨æªæ–½

1. **èµ„æºç®¡ç†**
   - âœ… OkHttp3 ä½¿ç”¨ try-with-resources è‡ªåŠ¨å…³é—­å“åº”
   - âœ… I18N çš„ InputStream æ­£ç¡®å…³é—­

2. **å¼‚å¸¸å¤„ç†**
   - âœ… HTTP è¯·æ±‚å¤±è´¥æŠ›å‡ºæ˜ç¡®å¼‚å¸¸
   - âœ… I18N åŠ è½½å¤±è´¥æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†

3. **è¾“å…¥éªŒè¯**
   - âœ… I18N æœ‰ null æ£€æŸ¥å’Œé˜²æŠ¤
   - âš ï¸ HTTP å®¢æˆ·ç«¯æœªéªŒè¯ URL æ ¼å¼

#### âš ï¸ éœ€è¦æ”¹è¿›çš„å®‰å…¨é¡¹

1. **è¾“å…¥éªŒè¯**
   ```java
   // å»ºè®®æ·»åŠ  URL éªŒè¯
   public String post(String url, ...) {
       if (url == null || url.isEmpty()) {
           throw new IllegalArgumentException("URL cannot be null or empty");
       }
       if (!url.startsWith("http://") && !url.startsWith("https://")) {
           throw new IllegalArgumentException("Invalid URL protocol");
       }
       // ...
   }
   ```

2. **SSL/TLS é…ç½®**
   ```java
   // OkHttp3 å»ºè®®æ·»åŠ  SSL é…ç½®é€‰é¡¹
   public static OkHttpClient createSecureClient() {
       return new OkHttpClient.Builder()
           .sslSocketFactory(sslContext.getSocketFactory(), trustManager)
           .hostnameVerifier((hostname, session) -> true) // å¯é…ç½®
           .build();
   }
   ```

3. **è¯·æ±‚ä½“å¤§å°é™åˆ¶**
   ```java
   // é˜²æ­¢ OOM
   private static final long MAX_BODY_SIZE = 10 * 1024 * 1024; // 10MB
   ```

### ä¾èµ–å®‰å…¨

**CVE æ¼æ´æ‰«æå»ºè®®ï¼š**
```bash
# ä½¿ç”¨ OWASP Dependency-Check
mvn org.owasp:dependency-check-maven:check
```

**å½“å‰ä¾èµ–ç‰ˆæœ¬æ£€æŸ¥ï¼š**
- OkHttp3: 4.12.0 âœ… (æœ€æ–°ç¨³å®šç‰ˆ)
- Spring Web: (ç»§æ‰¿çˆ¶ POM) âœ…
- SnakeYAML: (ç»§æ‰¿çˆ¶ POM) âš ï¸ (éœ€è¦æ£€æŸ¥ç‰ˆæœ¬)

---

## ğŸ’¡ æ”¹è¿›å»ºè®®

### ä¼˜å…ˆçº§åˆ†ç±»

#### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå¿…é¡»ä¿®å¤/å®ç°ï¼‰

1. **è¡¥å……å•å…ƒæµ‹è¯•**
   - **å·¥ä½œé‡ï¼š** 2.5 å¤©
   - **é‡è¦æ€§ï¼š** â­â­â­â­â­
   - **é£é™©ï¼š** æ— æµ‹è¯•ï¼Œé‡æ„é£é™©æé«˜
   - **è¡ŒåŠ¨ï¼š** 
     - ä¸ºæ‰€æœ‰å…¬å…±æ–¹æ³•æ·»åŠ å•å…ƒæµ‹è¯•
     - è¦†ç›–ç‡ç›®æ ‡ï¼š>80%
     - é‡ç‚¹æµ‹è¯•è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸åœºæ™¯

2. **æ‰©å±• HTTP å®¢æˆ·ç«¯æ¥å£**
   - **å·¥ä½œé‡ï¼š** 1 å¤©
   - **é‡è¦æ€§ï¼š** â­â­â­â­
   - **é£é™©ï¼š** åŠŸèƒ½å±€é™ï¼Œå½±å“ä¸Šå±‚ä½¿ç”¨
   - **è¡ŒåŠ¨ï¼š** 
     - æ·»åŠ  GET/PUT/DELETE æ–¹æ³•
     - æ·»åŠ è¶…æ—¶é…ç½®æ¥å£
     - æ·»åŠ æ‹¦æˆªå™¨æ”¯æŒ

3. **æ·»åŠ  URL éªŒè¯**
   - **å·¥ä½œé‡ï¼š** 0.5 å¤©
   - **é‡è¦æ€§ï¼š** â­â­â­â­
   - **é£é™©ï¼š** å®‰å…¨æ¼æ´
   - **è¡ŒåŠ¨ï¼š** 
     - éªŒè¯ URL æ ¼å¼
     - éªŒè¯åè®®ï¼ˆhttp/httpsï¼‰
     - æ·»åŠ å‚æ•°æ ¡éªŒ

**ğŸŒ å›½é™…åŒ–ä¸“é¡¹æ”¹è¿›ï¼ˆå·²å®Œæˆï¼‰ï¼š** âœ…

4. **å›½é™…åŒ–ä½“ç³»é‡æ„** - **å·²å®Œæˆ** âœ…
   - **å·¥ä½œé‡ï¼š** 5 å¤©
   - **å®Œæˆæ—¶é—´ï¼š** 2025-12-31
   - **æˆæœï¼š**
     - âœ… å®Œå…¨ç§»é™¤è‡ªå®šä¹‰ I18N.java
     - âœ… å®ç° Spring MessageSource + JSON
     - âœ… åˆ›å»º JsonMessageSourceï¼ˆæ”¯æŒåµŒå¥—ç»“æ„ï¼‰
     - âœ… åˆ›å»º MessageService ç»Ÿä¸€æœåŠ¡
     - âœ… JavaScriptæºæ–‡ä»¶ï¼ˆæ— åŒå¼•å·keyï¼Œæ”¯æŒæ³¨é‡Šï¼‰
     - âœ… æ„å»ºæ—¶è½¬JSONï¼ˆé«˜æ€§èƒ½ï¼‰
     - âœ… è¿ç§»YAMLæ–‡ä»¶åˆ°æ–°æ ¼å¼
     - âœ… åˆ é™¤SnakeYAMLä¾èµ–
   - è¯¦è§ï¼š
     - `I18N_FINAL_SOLUTION.md` - å®Œæ•´æ–¹æ¡ˆ
     - `I18N_IMPLEMENTATION_REPORT.md` - å®æ–½æŠ¥å‘Š
     - `I18N_MIGRATION_REPORT.md` - è¿ç§»æŠ¥å‘Š

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆå»ºè®®ä¿®å¤/å®ç°ï¼‰

4. **æ‹†åˆ† I18N.java**
   - **å·¥ä½œé‡ï¼š** 1 å¤©
   - **é‡è¦æ€§ï¼š** â­â­â­
   - **é£é™©ï¼š** å¯ç»´æŠ¤æ€§é—®é¢˜
   - **è¡ŒåŠ¨ï¼š** 
     ```
     I18N.java           - å…¬å…± APIï¼ˆ100è¡Œï¼‰
     I18NLoader.java     - YAML åŠ è½½ï¼ˆ150è¡Œï¼‰
     I18NFormatter.java  - æ¶ˆæ¯æ ¼å¼åŒ–ï¼ˆ60è¡Œï¼‰
     ```

5. **æ·»åŠ  README æ–‡æ¡£**
   - **å·¥ä½œé‡ï¼š** 0.5 å¤©
   - **é‡è¦æ€§ï¼š** â­â­â­
   - **é£é™©ï¼š** æ–°äººä¸Šæ‰‹å›°éš¾
   - **è¡ŒåŠ¨ï¼š** 
     - åˆ›å»º README.md
     - åŒ…å«å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
     - è¯´æ˜ä¾èµ–å…³ç³»

6. **HTTP å®¢æˆ·ç«¯é…ç½®åŒ–**
   - **å·¥ä½œé‡ï¼š** 1 å¤©
   - **é‡è¦æ€§ï¼š** â­â­â­
   - **é£é™©ï¼š** çµæ´»æ€§ä¸è¶³
   - **è¡ŒåŠ¨ï¼š** 
     - æ·»åŠ  Builder æ¨¡å¼
     - æ”¯æŒè¶…æ—¶é…ç½®
     - æ”¯æŒè¿æ¥æ± é…ç½®

#### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆä¼˜åŒ–é¡¹ï¼‰

7. **æ·»åŠ æ€§èƒ½ç›‘æ§**
   - **å·¥ä½œé‡ï¼š** 1 å¤©
   - **é‡è¦æ€§ï¼š** â­â­
   - **é£é™©ï¼š** æ— æ³•è¯„ä¼°æ€§èƒ½
   - **è¡ŒåŠ¨ï¼š** 
     - HTTP è¯·æ±‚ç»Ÿè®¡ï¼ˆæˆåŠŸ/å¤±è´¥/å¹³å‡è€—æ—¶ï¼‰
     - è¿æ¥æ± ä½¿ç”¨ç‡
     - æš´éœ² Metrics æ¥å£

8. **æ·»åŠ è¯·æ±‚é‡è¯•æœºåˆ¶**
   - **å·¥ä½œé‡ï¼š** 1 å¤©
   - **é‡è¦æ€§ï¼š** â­â­
   - **é£é™©ï¼š** ç½‘ç»œä¸ç¨³å®šæ—¶å½±å“å¯ç”¨æ€§
   - **è¡ŒåŠ¨ï¼š** 
     - æ·»åŠ  RetryStrategy æ¥å£
     - æ”¯æŒæŒ‡æ•°é€€é¿
     - å¯é…ç½®é‡è¯•æ¬¡æ•°

9. **å“åº”ç¼“å­˜æ”¯æŒ**
   - **å·¥ä½œé‡ï¼š** 1.5 å¤©
   - **é‡è¦æ€§ï¼š** â­â­
   - **é£é™©ï¼š** æ€§èƒ½ä¼˜åŒ–æœºä¼š
   - **è¡ŒåŠ¨ï¼š** 
     - åˆ©ç”¨ OkHttp3 çš„ç¼“å­˜æœºåˆ¶
     - æ·»åŠ ç¼“å­˜é…ç½®

### é‡æ„è®¡åˆ’

```
é˜¶æ®µ1ï¼šé«˜ä¼˜å…ˆçº§ä¿®å¤ï¼ˆ4å¤©ï¼‰
  Week 1, Day 1-2: è¡¥å……å•å…ƒæµ‹è¯•ï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
  Week 1, Day 3: æ‰©å±• HTTP å®¢æˆ·ç«¯æ¥å£
  Week 1, Day 4: æ·»åŠ  URL éªŒè¯ + I18N å•å…ƒæµ‹è¯•

é˜¶æ®µ2ï¼šä¸­ä¼˜å…ˆçº§ä¼˜åŒ–ï¼ˆ2.5å¤©ï¼‰
  Week 2, Day 1: æ‹†åˆ† I18N.java
  Week 2, Day 2: HTTP å®¢æˆ·ç«¯é…ç½®åŒ–ï¼ˆBuilderæ¨¡å¼ï¼‰
  Week 2, Day 3: æ·»åŠ  README + æ–‡æ¡£å®Œå–„

é˜¶æ®µ3ï¼šä½ä¼˜å…ˆçº§ä¼˜åŒ–ï¼ˆ3.5å¤©ï¼‰
  Week 3, Day 1: æ·»åŠ æ€§èƒ½ç›‘æ§
  Week 3, Day 2: è¯·æ±‚é‡è¯•æœºåˆ¶
  Week 3, Day 3-4: å“åº”ç¼“å­˜æ”¯æŒ

æ€»è®¡ï¼š10 ä¸ªå·¥ä½œæ—¥ï¼ˆ2å‘¨ï¼‰
```

---

## ğŸ“ˆ è¯„åˆ†æ€»ç»“

| ç»´åº¦ | å¾—åˆ† | æƒé‡ | åŠ æƒå¾—åˆ† | ç­‰çº§ | è¯´æ˜ |
|------|------|------|---------|------|------|
| **ä»£ç è´¨é‡** | 75 | 25% | 18.75 | C | ä»£ç è§„èŒƒå¥½ï¼Œä½†ç¼ºæµ‹è¯• |
| **åŠŸèƒ½å®Œæ•´æ€§** | 70 | 30% | 21 | C | æ ¸å¿ƒåŠŸèƒ½å®Œæ•´ï¼Œæ‰©å±•æ€§ä¸è¶³ |
| **æ€§èƒ½** | 85 | 15% | 12.75 | B | OkHttp3 æ€§èƒ½ä¼˜ç§€ |
| **æ‰©å±•æ€§** | 80 | 15% | 12 | B | é€‚é…å™¨æ¨¡å¼ä¼˜ç§€ï¼Œæ¥å£å•ä¸€ |
| **æµ‹è¯•è¦†ç›–** | **0** | 10% | **0** | **F** | å®Œå…¨ç¼ºå¤± âŒ |
| **æ–‡æ¡£å®Œæ•´æ€§** | 60 | 5% | 3 | D | JavaDoc å¥½ï¼Œç¼ºREADME |
| **å®‰å…¨æ€§** | 70 | - | - | C | åŸºæœ¬å®‰å…¨ï¼Œéœ€åŠ å¼ºéªŒè¯ |
| **æ€»åˆ†** | **-** | **100%** | **67.5** | **D** | **éœ€æ”¹è¿›** |

**ç­‰çº§è¯´æ˜ï¼š**
- Aï¼ˆ90-100ï¼‰ï¼šä¼˜ç§€
- Bï¼ˆ80-89ï¼‰ï¼šè‰¯å¥½
- Cï¼ˆ70-79ï¼‰ï¼šåˆæ ¼
- Dï¼ˆ60-69ï¼‰ï¼šéœ€æ”¹è¿› âš ï¸
- Fï¼ˆ<60ï¼‰ï¼šä¸åˆæ ¼ âŒ

### è¯„åˆ†åˆ†æ

**æ ¸å¿ƒé—®é¢˜ï¼š**
1. **æµ‹è¯•è¦†ç›–ç‡ä¸º 0** - è¿™æ˜¯æœ€ä¸¥é‡çš„é—®é¢˜ ğŸ”´
2. åŠŸèƒ½æ‰©å±•æ€§ä¸è¶³ - HTTP å®¢æˆ·ç«¯åªæ”¯æŒ POST
3. æ–‡æ¡£ä¸å¤Ÿå®Œå–„ - ç¼ºå°‘ README

**äº®ç‚¹ï¼š**
1. âœ… é€‚é…å™¨æ¨¡å¼è®¾è®¡ä¼˜ç§€
2. âœ… å›½é™…åŒ–åŠŸèƒ½å®Œæ•´ä¸”å¼ºå¤§
3. âœ… OkHttp3 é…ç½®åˆç†ï¼Œæ€§èƒ½ä¼˜ç§€
4. âœ… ä»£ç è§„èŒƒï¼Œæ³¨é‡Šå®Œæ•´

**æ€»ä½“è¯„ä»·ï¼š**
> omni-agent-common æ¨¡å—ä½œä¸ºåŸºç¡€å·¥å…·å±‚ï¼Œè®¾è®¡ç†å¿µä¼˜ç§€ï¼Œä»£ç è´¨é‡è‰¯å¥½ï¼Œä½†**ä¸¥é‡ç¼ºä¹å•å…ƒæµ‹è¯•**æ˜¯æœ€å¤§çš„é—®é¢˜ã€‚å»ºè®®ç«‹å³è¡¥å……æµ‹è¯•è¦†ç›–ï¼Œå¦åˆ™åç»­é‡æ„é£é™©æé«˜ã€‚
>
> åŠŸèƒ½æ–¹é¢ï¼ŒHTTP å®¢æˆ·ç«¯é€‚é…å™¨è®¾è®¡ä¼˜ç§€ï¼Œä½†æ¥å£è¿‡äºç®€å•ï¼Œå»ºè®®æ‰©å±•ä¸ºæ”¯æŒå¸¸è§ HTTP æ–¹æ³•ã€‚å›½é™…åŒ–åŠŸèƒ½å®Œæ•´ä¸”å¼ºå¤§ï¼Œå¯ä»¥ä½œä¸ºäº®ç‚¹ä¿ç•™ã€‚
>
> **æ¨èè¡ŒåŠ¨ï¼š** å…ˆè¡¥å……æµ‹è¯•ï¼ˆ2.5å¤©ï¼‰ï¼Œå†æ‰©å±•åŠŸèƒ½ï¼ˆ1.5å¤©ï¼‰ï¼Œæœ€åå®Œå–„æ–‡æ¡£ï¼ˆ0.5å¤©ï¼‰ã€‚

---

## âœ… è¡ŒåŠ¨é¡¹

### ç«‹å³æ‰§è¡Œï¼ˆæœ¬å‘¨ï¼‰

- [ ] **è¡¥å…… HTTP å®¢æˆ·ç«¯å•å…ƒæµ‹è¯•** 
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - æˆªæ­¢æ—¥æœŸï¼šWeek 1, Day 1-2
  - ä¼˜å…ˆçº§ï¼šğŸ”´ é«˜
  - äº§å‡ºï¼š15+ æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ç‡ >80%

- [ ] **è¡¥å…… I18N å•å…ƒæµ‹è¯•**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - æˆªæ­¢æ—¥æœŸï¼šWeek 1, Day 3
  - ä¼˜å…ˆçº§ï¼šğŸ”´ é«˜
  - äº§å‡ºï¼š12+ æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ç‡ >80%

- [ ] **æ‰©å±• HttpClientAdapter æ¥å£**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - æˆªæ­¢æ—¥æœŸï¼šWeek 1, Day 4
  - ä¼˜å…ˆçº§ï¼šğŸ”´ é«˜
  - äº§å‡ºï¼šæ”¯æŒ GET/PUT/DELETE/è¶…æ—¶é…ç½®

### ä¸‹å‘¨æ‰§è¡Œï¼ˆWeek 2ï¼‰

- [ ] **æ‹†åˆ† I18N.java**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - æˆªæ­¢æ—¥æœŸï¼šWeek 2, Day 1
  - ä¼˜å…ˆçº§ï¼šğŸŸ¡ ä¸­
  - äº§å‡ºï¼š3ä¸ªç‹¬ç«‹çš„ç±»æ–‡ä»¶

- [ ] **æ·»åŠ  README.md**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - æˆªæ­¢æ—¥æœŸï¼šWeek 2, Day 2
  - ä¼˜å…ˆçº§ï¼šğŸŸ¡ ä¸­
  - äº§å‡ºï¼šå®Œæ•´çš„ README æ–‡æ¡£

- [ ] **HTTP å®¢æˆ·ç«¯é…ç½®åŒ–ï¼ˆBuilderï¼‰**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - æˆªæ­¢æ—¥æœŸï¼šWeek 2, Day 3
  - ä¼˜å…ˆçº§ï¼šğŸŸ¡ ä¸­
  - äº§å‡ºï¼šBuilder æ¨¡å¼å®ç°

### åç»­ä¼˜åŒ–ï¼ˆWeek 3+ï¼‰

- [ ] **æ·»åŠ æ€§èƒ½ç›‘æ§**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - ä¼˜å…ˆçº§ï¼šğŸŸ¢ ä½

- [ ] **è¯·æ±‚é‡è¯•æœºåˆ¶**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - ä¼˜å…ˆçº§ï¼šğŸŸ¢ ä½

- [ ] **å“åº”ç¼“å­˜æ”¯æŒ**
  - è´Ÿè´£äººï¼šå¾…æŒ‡å®š
  - ä¼˜å…ˆçº§ï¼šğŸŸ¢ ä½

---

## ğŸ¯ æ‰¹æ¬¡1æ€»ç»“

### å…³é”®å‘ç°

1. **è®¾è®¡ä¼˜ç§€** âœ…
   - é€‚é…å™¨æ¨¡å¼åº”ç”¨æ ‡å‡†
   - åŒ…ç»“æ„æ¸…æ™°
   - ä»£ç è§„èŒƒè‰¯å¥½

2. **åŠŸèƒ½å®Œæ•´ä½†å—é™** âš ï¸
   - å›½é™…åŒ–åŠŸèƒ½å¼ºå¤§ä¸”å®Œå–„
   - HTTP å®¢æˆ·ç«¯åŠŸèƒ½å•ä¸€ï¼ˆä»…POSTï¼‰
   - ç¼ºå°‘å¸¸è§æ‰©å±•ç‚¹

3. **æµ‹è¯•ä¸¥é‡ç¼ºå¤±** âŒ
   - 0% æµ‹è¯•è¦†ç›–ç‡
   - é‡æ„é£é™©æé«˜
   - å¿…é¡»ç«‹å³è¡¥å……

4. **æ–‡æ¡£ä¸å®Œå–„** âš ï¸
   - JavaDoc è´¨é‡å¥½
   - ç¼ºå°‘ README
   - ç¼ºå°‘æ¶æ„è¯´æ˜

5. **å›½é™…åŒ–æœªè¢«å……åˆ†åˆ©ç”¨** âš ï¸ **æ–°å‘ç°**
   - I18N è®¾è®¡ä¼˜ç§€ä½†ä½¿ç”¨ç‡æä½ï¼ˆä»…1ä¸ªæ§åˆ¶å™¨ä½¿ç”¨ï¼‰
   - å¤§éƒ¨åˆ†æ§åˆ¶å™¨ç›´æ¥ç¡¬ç¼–ç è‹±æ–‡æ¶ˆæ¯
   - ç¼ºä¹ç»Ÿä¸€çš„å›½é™…åŒ–è§„èŒƒ
   - å»ºè®®é‡‡ç”¨æ··åˆæ–¹æ¡ˆï¼šI18Nç”¨äºæ—¥å¿— + MessageSourceç”¨äºAPI
   - è¯¦è§ï¼š`I18N_IMPROVEMENT_PLAN.md`

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³å¼€å§‹ï¼š** æ‰¹æ¬¡1 æ”¹è¿›è®¡åˆ’
- **Week 1ï¼š** è¡¥å……å•å…ƒæµ‹è¯• + æ‰©å±•æ¥å£ + å›½é™…åŒ–åŸºç¡€è®¾æ–½
- **Week 2ï¼š** é‡æ„ä¼˜åŒ– + å®Œå–„æ–‡æ¡£ + å›½é™…åŒ–è¯•ç‚¹
- **Week 3ï¼š** æ€§èƒ½ä¼˜åŒ– + é«˜çº§ç‰¹æ€§ + å›½é™…åŒ–æ¨å¹¿

**é¢„è®¡å®Œæˆæ—¶é—´ï¼š** 3 å‘¨ï¼ˆ15 ä¸ªå·¥ä½œæ—¥ï¼‰

**å®ŒæˆåçŠ¶æ€é¢„æœŸï¼š**
- æµ‹è¯•è¦†ç›–ç‡ï¼š>80%
- åŠŸèƒ½å®Œæ•´åº¦ï¼š>90%
- æ–‡æ¡£å®Œæ•´åº¦ï¼š>85%
- å›½é™…åŒ–è§„èŒƒï¼šå®Œæ•´å»ºç«‹
- æ€»ä½“è¯„åˆ†ï¼šBï¼ˆ80+ï¼‰

**ç›¸å…³æ–‡æ¡£ï¼š**
- ğŸ“„ `batch_01.md` - æ‰¹æ¬¡1å®Œæ•´åˆ†ææŠ¥å‘Š
- ğŸŒ `I18N_IMPROVEMENT_PLAN.md` - å›½é™…åŒ–æ”¹è¿›æ–¹æ¡ˆï¼ˆæ–°å¢ï¼‰

---

## ğŸ“ é™„å½•

### A. ä»£ç ç‰‡æ®µç¤ºä¾‹

#### æ‰©å±•åçš„ HttpClientAdapter æ¥å£

```java
public interface HttpClientAdapter {
    // HTTP æ–¹æ³•
    String get(String url, Map<String, String> headers) throws Exception;
    String post(String url, Map<String, String> headers, String body) throws Exception;
    String put(String url, Map<String, String> headers, String body) throws Exception;
    String delete(String url, Map<String, String> headers) throws Exception;
    
    // é…ç½®
    void setTimeout(int connectTimeoutSeconds, int readTimeoutSeconds);
    void setConnectionPool(int maxConnections, int keepAliveMinutes);
    
    // æ‹¦æˆªå™¨
    void addInterceptor(HttpInterceptor interceptor);
    void removeInterceptor(HttpInterceptor interceptor);
    
    // ç›‘æ§
    HttpMetrics getMetrics();
    
    // ç”Ÿå‘½å‘¨æœŸ
    void shutdown();
    
    // å…ƒæ•°æ®
    String getName();
    String getVersion();
}
```

#### Builder æ¨¡å¼ç¤ºä¾‹

```java
OkHttp3Adapter adapter = OkHttp3Adapter.builder()
    .connectTimeout(30, TimeUnit.SECONDS)
    .readTimeout(60, TimeUnit.SECONDS)
    .writeTimeout(60, TimeUnit.SECONDS)
    .connectionPool(50, 5, TimeUnit.MINUTES)
    .retryOnConnectionFailure(true)
    .addInterceptor(new LoggingInterceptor())
    .build();
```

### B. æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹

```java
@Test
void testPostWithValidRequest() throws Exception {
    HttpClientAdapter adapter = new OkHttp3Adapter();
    
    Map<String, String> headers = new HashMap<>();
    headers.put("Content-Type", "application/json");
    
    String body = "{\"name\":\"test\"}";
    String url = "https://httpbin.org/post";
    
    String response = adapter.post(url, headers, body);
    
    assertNotNull(response);
    assertTrue(response.contains("test"));
}

@Test
void testPostWithInvalidUrl() {
    HttpClientAdapter adapter = new OkHttp3Adapter();
    
    assertThrows(IllegalArgumentException.class, () -> {
        adapter.post("invalid-url", new HashMap<>(), "{}");
    });
}
```

### C. æ€§èƒ½åŸºå‡†æµ‹è¯•

```java
@BenchmarkMode(Mode.AverageTime)
@OutputTimeUnit(TimeUnit.MILLISECONDS)
public class HttpClientBenchmark {
    
    @Benchmark
    public void benchmarkRestTemplate() {
        // æµ‹è¯• RestTemplate æ€§èƒ½
    }
    
    @Benchmark
    public void benchmarkOkHttp3() {
        // æµ‹è¯• OkHttp3 æ€§èƒ½
    }
}
```

---

**æŠ¥å‘ŠçŠ¶æ€ï¼š** âœ… æ‰¹æ¬¡1åˆ†æå®Œæˆ  
**åˆ›å»ºæ—¶é—´ï¼š** 2025-12-31  
**åˆ†æå·¥æ—¶ï¼š** 4 å°æ—¶  
**ä¸‹ä¸€æ‰¹æ¬¡ï¼š** æ‰¹æ¬¡2 - API æ¥å£å±‚ï¼ˆ8ä¸ªæ¨¡å—ï¼‰

---

**å¤‡æ³¨ï¼š**
- æœ¬æŠ¥å‘ŠåŸºäºä»£ç é™æ€åˆ†æå’Œè®¾è®¡è¯„å®¡
- å»ºè®®ç»“åˆå®é™…è¿è¡Œæµ‹è¯•è¿›ä¸€æ­¥éªŒè¯
- æ”¹è¿›å»ºè®®å·²æŒ‰ä¼˜å…ˆçº§æ’åºï¼Œå¯æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´

ğŸ‰ **æ‰¹æ¬¡1åˆ†æå®Œæˆï¼å‡†å¤‡å¼€å§‹æ‰¹æ¬¡2ã€‚**

